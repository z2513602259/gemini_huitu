# Google Gemini 对话格式（Generate Content）

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /v1beta/models/gemini-2.0-flash:generateContent:
    post:
      summary: Google Gemini 对话格式（Generate Content）
      deprecated: false
      description: >-
        Google Gemini API 支持使用图片、音频、代码、工具等生成内容。给定输入 GenerateContentRequest
        生成模型响应。支持文本生成、视觉理解、音频处理、长上下文、代码执行、JSON 模式、函数调用等多种功能。

        路径参数

        model

        类型：字符串

        必需：是

        用于生成补全项的模型名称。


        格式：models/{model}，例如 models/gemini-2.0-flash
      tags:
        - Gemini接口
      parameters:
        - name: key
          in: query
          description: ''
          required: false
          example: '{{api_key}}'
          schema:
            type: string
        - name: Content-Type
          in: header
          description: ''
          required: false
          example: application/json
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                contents:
                  type: array
                  description: 与模型当前对话的内容。对于单轮查询，这是单个实例。对于聊天等多轮查询，这是包含对话历史记录和最新请求的重复字段。
                  items:
                    type: object
                    description: Content对象
                    properties:
                      parts:
                        type: array
                        description: 有序的内容部分，构成单个消息
                        items:
                          type: object
                          description: Part对象
                          properties:
                            text:
                              type: string
                              description: 纯文本内容
                            inlineData:
                              type: object
                              description: 内联媒体字节数据
                              properties:
                                mimeType:
                                  type: string
                                  description: 媒体的MIME类型
                                data:
                                  type: string
                                  description: base64编码的媒体数据
                              required:
                                - mimeType
                                - data
                              x-apifox-orders:
                                - mimeType
                                - data
                            fileData:
                              type: object
                              description: 上传文件的URI引用
                              properties:
                                mimeType:
                                  type: string
                                  description: 文件的MIME类型
                                fileUri:
                                  type: string
                                  description: 文件的URI
                              required:
                                - mimeType
                                - fileUri
                              x-apifox-orders:
                                - mimeType
                                - fileUri
                            functionCall:
                              type: object
                              description: 函数调用请求
                              properties:
                                name:
                                  type: string
                                  description: 要调用的函数名称
                                args:
                                  type: object
                                  description: 函数参数的键值对
                                  x-apifox-orders: []
                                  properties: {}
                              required:
                                - name
                              x-apifox-orders:
                                - name
                                - args
                            functionResponse:
                              type: object
                              description: 函数调用响应
                              properties:
                                name:
                                  type: string
                                  description: 调用的函数名称
                                response:
                                  type: object
                                  description: 函数调用的响应数据
                                  x-apifox-orders: []
                                  properties: {}
                              required:
                                - name
                                - response
                              x-apifox-orders:
                                - name
                                - response
                            executableCode:
                              type: object
                              description: 可执行代码
                              properties:
                                language:
                                  type: string
                                  enum:
                                    - LANGUAGE_UNSPECIFIED
                                    - PYTHON
                                  description: 代码的编程语言
                                code:
                                  type: string
                                  description: 要执行的代码
                              required:
                                - language
                                - code
                              x-apifox-orders:
                                - language
                                - code
                            codeExecutionResult:
                              type: object
                              description: 代码执行结果
                              properties:
                                outcome:
                                  type: string
                                  enum:
                                    - OUTCOME_UNSPECIFIED
                                    - OUTCOME_OK
                                    - OUTCOME_FAILED
                                    - OUTCOME_DEADLINE_EXCEEDED
                                  description: 代码执行的结果状态
                                output:
                                  type: string
                                  description: 代码执行的输出内容
                              required:
                                - outcome
                              x-apifox-orders:
                                - outcome
                                - output
                          x-apifox-orders:
                            - text
                            - inlineData
                            - fileData
                            - functionCall
                            - functionResponse
                            - executableCode
                            - codeExecutionResult
                      role:
                        type: string
                        enum:
                          - user
                          - model
                          - function
                          - tool
                        description: 对话中内容的生产者
                    required:
                      - parts
                    x-apifox-orders:
                      - parts
                      - role
                tools:
                  type: array
                  description: 模型可能用于生成下一个响应的工具列表。支持的工具包括函数和代码执行。
                  items:
                    type: object
                    description: Tool对象
                    properties:
                      functionDeclarations:
                        type: array
                        description: 可选的函数声明列表
                        items:
                          type: object
                          description: FunctionDeclaration对象
                          properties:
                            name:
                              type: string
                              description: 函数名称
                            description:
                              type: string
                              description: 函数功能描述
                            parameters:
                              type: object
                              description: 函数参数，JSON Schema格式
                              x-apifox-orders: []
                              properties: {}
                          required:
                            - name
                          x-apifox-orders:
                            - name
                            - description
                            - parameters
                      codeExecution:
                        type: object
                        description: 启用模型执行代码的空配置对象
                        x-apifox-orders: []
                        properties: {}
                    x-apifox-orders:
                      - functionDeclarations
                      - codeExecution
                toolConfig:
                  type: object
                  description: 请求中指定的任何工具的工具配置
                  properties:
                    functionCallingConfig:
                      type: object
                      description: 函数调用配置
                      properties:
                        mode:
                          type: string
                          enum:
                            - MODE_UNSPECIFIED
                            - AUTO
                            - ANY
                            - NONE
                          description: 指定函数调用的模式
                        allowedFunctionNames:
                          type: array
                          description: 允许调用的函数名列表
                          items:
                            type: string
                      x-apifox-orders:
                        - mode
                        - allowedFunctionNames
                  x-apifox-orders:
                    - functionCallingConfig
                safetySettings:
                  type: array
                  description: 用于屏蔽不安全内容的SafetySetting实例列表
                  items:
                    type: object
                    description: SafetySetting对象
                    properties:
                      category:
                        type: string
                        enum:
                          - HARM_CATEGORY_UNSPECIFIED
                          - HARM_CATEGORY_DEROGATORY
                          - HARM_CATEGORY_TOXICITY
                          - HARM_CATEGORY_VIOLENCE
                          - HARM_CATEGORY_SEXUAL
                          - HARM_CATEGORY_MEDICAL
                          - HARM_CATEGORY_DANGEROUS
                          - HARM_CATEGORY_HARASSMENT
                          - HARM_CATEGORY_HATE_SPEECH
                          - HARM_CATEGORY_SEXUALLY_EXPLICIT
                          - HARM_CATEGORY_DANGEROUS_CONTENT
                          - HARM_CATEGORY_CIVIC_INTEGRITY
                        description: 安全类别
                      threshold:
                        type: string
                        enum:
                          - HARM_BLOCK_THRESHOLD_UNSPECIFIED
                          - BLOCK_LOW_AND_ABOVE
                          - BLOCK_MEDIUM_AND_ABOVE
                          - BLOCK_ONLY_HIGH
                          - BLOCK_NONE
                          - 'OFF'
                        description: 屏蔽阈值
                    required:
                      - category
                      - threshold
                    x-apifox-orders:
                      - category
                      - threshold
                systemInstruction:
                  type: object
                  description: 开发者设置的系统指令。目前仅支持文本。
                  properties:
                    parts:
                      type: array
                      description: 有序的内容部分，构成单个消息
                      items:
                        type: object
                        properties:
                          text:
                            type: string
                            description: 纯文本内容
                        x-apifox-orders:
                          - text
                    role:
                      type: string
                      description: 对话中内容的生产者
                  x-apifox-orders:
                    - parts
                    - role
                generationConfig:
                  type: object
                  description: 模型生成和输出的配置选项
                  properties:
                    stopSequences:
                      type: array
                      description: 用于停止生成输出的字符序列集（最多5个）
                      items:
                        type: string
                    responseMimeType:
                      type: string
                      enum:
                        - text/plain
                        - application/json
                        - text/x.enum
                      description: 生成的候选文本的MIME类型
                    responseSchema:
                      type: object
                      description: 生成的候选文本的输出架构
                      x-apifox-orders: []
                      properties: {}
                    responseModalities:
                      type: array
                      description: 请求的响应模式
                      items:
                        type: string
                        enum:
                          - MODALITY_UNSPECIFIED
                          - TEXT
                          - IMAGE
                          - VIDEO
                          - AUDIO
                          - DOCUMENT
                    candidateCount:
                      type: integer
                      description: 要返回的生成的回答数量
                    maxOutputTokens:
                      type: integer
                      description: 候选回答中包含的令牌数量上限
                    temperature:
                      type: number
                      minimum: 0
                      maximum: 2
                      description: 控制输出的随机性，范围[0.0, 2.0]
                    topP:
                      type: number
                      description: 在抽样时要考虑的令牌的累计概率上限
                    topK:
                      type: integer
                      description: 抽样时要考虑的令牌数量上限
                    seed:
                      type: integer
                      description: 解码中使用的种子
                    presencePenalty:
                      type: number
                      description: 存在性惩罚
                    frequencyPenalty:
                      type: number
                      description: 频率惩罚
                    responseLogprobs:
                      type: boolean
                      description: 是否在响应中导出logprobs结果
                    logprobs:
                      type: integer
                      description: 返回的顶部logprob的数量
                    enableEnhancedCivicAnswers:
                      type: boolean
                      description: 启用增强型城市服务回答
                    speechConfig:
                      type: object
                      description: 语音生成配置
                      properties:
                        voiceConfig:
                          type: object
                          description: 单声音输出的配置
                          properties:
                            prebuiltVoiceConfig:
                              type: object
                              description: 要使用的预构建语音的配置
                              properties:
                                voiceName:
                                  type: string
                                  description: 要使用的预设语音的名称
                              x-apifox-orders:
                                - voiceName
                          x-apifox-orders:
                            - prebuiltVoiceConfig
                        multiSpeakerVoiceConfig:
                          type: object
                          description: 多音箱设置的配置
                          properties:
                            speakerVoiceConfigs:
                              type: array
                              description: 所有已启用的音箱语音
                              items:
                                type: object
                                properties:
                                  speaker:
                                    type: string
                                    description: 要使用的音箱的名称
                                  voiceConfig:
                                    type: object
                                    description: 要使用的语音的配置
                                    x-apifox-orders: []
                                    properties: {}
                                x-apifox-orders:
                                  - speaker
                                  - voiceConfig
                          x-apifox-orders:
                            - speakerVoiceConfigs
                        languageCode:
                          type: string
                          enum:
                            - zh-CN
                            - en-US
                            - ja-JP
                            - ko-KR
                            - fr-FR
                            - de-DE
                            - es-ES
                            - pt-BR
                            - hi-IN
                            - ar-XA
                            - it-IT
                            - tr-TR
                            - vi-VN
                            - th-TH
                            - ru-RU
                            - pl-PL
                            - nl-NL
                          description: 用于语音合成的语言代码
                      x-apifox-orders:
                        - voiceConfig
                        - multiSpeakerVoiceConfig
                        - languageCode
                    thinkingConfig:
                      type: object
                      description: 思考功能的配置
                      properties:
                        includeThoughts:
                          type: boolean
                          description: 是否要在回答中包含思考内容
                        thinkingBudget:
                          type: integer
                          description: 模型应生成的想法token的数量
                      x-apifox-orders:
                        - includeThoughts
                        - thinkingBudget
                    mediaResolution:
                      type: string
                      enum:
                        - MEDIA_RESOLUTION_UNSPECIFIED
                        - MEDIA_RESOLUTION_LOW
                        - MEDIA_RESOLUTION_MEDIUM
                        - MEDIA_RESOLUTION_HIGH
                      description: 指定的媒体分辨率
                  x-apifox-orders:
                    - stopSequences
                    - responseMimeType
                    - responseSchema
                    - responseModalities
                    - candidateCount
                    - maxOutputTokens
                    - temperature
                    - topP
                    - topK
                    - seed
                    - presencePenalty
                    - frequencyPenalty
                    - responseLogprobs
                    - logprobs
                    - enableEnhancedCivicAnswers
                    - speechConfig
                    - thinkingConfig
                    - mediaResolution
                cachedContent:
                  type: string
                  description: 缓存的内容的名称，用于用作提供预测的上下文。格式：cachedContents/{cachedContent}
              required:
                - contents
              x-apifox-orders:
                - contents
                - tools
                - toolConfig
                - safetySettings
                - systemInstruction
                - generationConfig
                - cachedContent
            examples:
              '1':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: 如何哄女朋友开心？
                summary: 基础文本对话
              '2':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: 图中有什么？
                        - inline_data:
                            mime_type: image/jpeg
                            data: 输入Base64
                summary: 图像分析对话
              '3':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: >-
                            Schedule a meeting with Bob and Alice for 03/27/2025
                            at 10:00 AM about the Q3 planning.
                  tools:
                    - functionDeclarations:
                        - name: schedule_meeting
                          description: >-
                            Schedules a meeting with specified attendees at a
                            given time and date.
                          parameters:
                            type: object
                            properties:
                              attendees:
                                type: array
                                items:
                                  type: string
                                description: List of people attending the meeting.
                              date:
                                type: string
                                description: Date of the meeting (e.g., '2024-07-29')
                              time:
                                type: string
                                description: Time of the meeting (e.g., '15:00')
                              topic:
                                type: string
                                description: The subject or topic of the meeting.
                            required:
                              - attendees
                              - date
                              - time
                              - topic
                summary: 函数调用
              '4':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: >-
                            List a few popular cookie recipes, and include the
                            amounts of ingredients.
                  generationConfig:
                    responseMimeType: application/json
                    responseSchema:
                      type: ARRAY
                      items:
                        type: OBJECT
                        properties:
                          recipeName:
                            type: STRING
                          ingredients:
                            type: ARRAY
                            items:
                              type: STRING
                        propertyOrdering:
                          - recipeName
                          - ingredients
                summary: 结构化输出
              '5':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: 总结视频内容
                        - inline_data:
                            mime_type: video/mp4
                            data: '''$VIDEO_B64'''
                summary: 视频处理
              '6':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: 介绍文档内容
                        - inline_data:
                            mime_type: application/pdf
                            data: 输入Base64
                summary: PDF处理
              '7':
                value: 请将请求端点中的“generateContent”替换为“streamGenerateContent”
                summary: 流式响应
              '8':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: 计算斐波那契数列的第10项
                  tools:
                    - codeExecution: {}
                summary: 代码执行
              '9':
                value:
                  contents:
                    - role: user
                      parts:
                        - text: 如何哄女朋友开心？
                  generationConfig:
                    thinkingConfig:
                      thinkingBudget: 1024
                      includeThoughts: true
                summary: 思考设置
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                description: GenerateContentResponse - 支持多个候选回答的模型的回答
                properties:
                  candidates:
                    type: array
                    description: 模型的候选回答列表
                    items:
                      type: object
                      description: Candidate对象
                      properties:
                        content:
                          type: object
                          description: 模型返回的生成内容
                          properties:
                            parts:
                              type: array
                              description: 有序的内容部分
                              items:
                                type: object
                                properties:
                                  text:
                                    type: string
                                    description: 纯文本内容
                                  executableCode:
                                    type: object
                                    description: 可执行代码
                                    properties:
                                      language:
                                        type: string
                                        enum:
                                          - LANGUAGE_UNSPECIFIED
                                          - PYTHON
                                        description: 代码的编程语言
                                      code:
                                        type: string
                                        description: 要执行的代码
                                    x-apifox-orders:
                                      - language
                                      - code
                                  codeExecutionResult:
                                    type: object
                                    description: 代码执行结果
                                    properties:
                                      outcome:
                                        type: string
                                        enum:
                                          - OUTCOME_UNSPECIFIED
                                          - OUTCOME_OK
                                          - OUTCOME_FAILED
                                          - OUTCOME_DEADLINE_EXCEEDED
                                        description: 代码执行的结果状态
                                      output:
                                        type: string
                                        description: 代码执行的输出内容
                                    x-apifox-orders:
                                      - outcome
                                      - output
                                  functionCall:
                                    type: object
                                    description: 函数调用请求
                                    properties:
                                      name:
                                        type: string
                                        description: 要调用的函数名称
                                      args:
                                        type: object
                                        description: 函数参数的键值对
                                        x-apifox-orders: []
                                        properties: {}
                                    x-apifox-orders:
                                      - name
                                      - args
                                  functionResponse:
                                    type: object
                                    description: 函数调用响应
                                    properties:
                                      name:
                                        type: string
                                        description: 调用的函数名称
                                      response:
                                        type: object
                                        description: 函数调用的响应数据
                                        x-apifox-orders: []
                                        properties: {}
                                    x-apifox-orders:
                                      - name
                                      - response
                                x-apifox-orders:
                                  - text
                                  - executableCode
                                  - codeExecutionResult
                                  - functionCall
                                  - functionResponse
                            role:
                              type: string
                              description: 对话中内容的生产者
                          x-apifox-orders:
                            - parts
                            - role
                        finishReason:
                          type: string
                          enum:
                            - STOP
                            - MAX_TOKENS
                            - SAFETY
                            - RECITATION
                            - LANGUAGE
                            - OTHER
                            - BLOCKLIST
                            - PROHIBITED_CONTENT
                            - SPII
                            - MALFORMED_FUNCTION_CALL
                            - IMAGE_SAFETY
                          description: 模型停止生成词元的原因
                        safetyRatings:
                          type: array
                          description: 候选回答安全性的评分列表
                          items:
                            type: object
                            description: SafetyRating对象
                            properties:
                              category:
                                type: string
                                enum:
                                  - HARM_CATEGORY_UNSPECIFIED
                                  - HARM_CATEGORY_DEROGATORY
                                  - HARM_CATEGORY_TOXICITY
                                  - HARM_CATEGORY_VIOLENCE
                                  - HARM_CATEGORY_SEXUAL
                                  - HARM_CATEGORY_MEDICAL
                                  - HARM_CATEGORY_DANGEROUS
                                  - HARM_CATEGORY_HARASSMENT
                                  - HARM_CATEGORY_HATE_SPEECH
                                  - HARM_CATEGORY_SEXUALLY_EXPLICIT
                                  - HARM_CATEGORY_DANGEROUS_CONTENT
                                  - HARM_CATEGORY_CIVIC_INTEGRITY
                                description: 此评分的类别
                              probability:
                                type: string
                                enum:
                                  - HARM_PROBABILITY_UNSPECIFIED
                                  - NEGLIGIBLE
                                  - LOW
                                  - MEDIUM
                                  - HIGH
                                description: 此内容的有害概率
                              blocked:
                                type: boolean
                                description: 此内容是否因此分级而被屏蔽
                            x-apifox-orders:
                              - category
                              - probability
                              - blocked
                        citationMetadata:
                          type: object
                          description: 模型生成的候选项的引用信息
                          properties:
                            citationSources:
                              type: array
                              description: 特定回复的来源引用
                              items:
                                type: object
                                description: CitationSource对象
                                properties:
                                  startIndex:
                                    type: integer
                                    description: 归因于此来源的响应片段的开始索引
                                  endIndex:
                                    type: integer
                                    description: 归因细分的结束索引（不含）
                                  uri:
                                    type: string
                                    description: 被归因为文本部分来源的URI
                                  license:
                                    type: string
                                    description: 被归因为片段来源的GitHub项目的许可
                                x-apifox-orders:
                                  - startIndex
                                  - endIndex
                                  - uri
                                  - license
                          x-apifox-orders:
                            - citationSources
                        tokenCount:
                          type: integer
                          description: 此候选项的令牌数
                        groundingAttributions:
                          type: array
                          description: 为生成有依据的回答所参考的来源提供方信息
                          items:
                            type: object
                            description: GroundingAttribution对象
                            properties:
                              sourceId:
                                type: object
                                description: 对此归因做出贡献的来源的标识符
                                properties:
                                  groundingPassage:
                                    type: object
                                    description: 内嵌段落的标识符
                                    properties:
                                      passageId:
                                        type: string
                                        description: >-
                                          与GenerateAnswerRequest的GroundingPassage.id匹配的段落的ID
                                      partIndex:
                                        type: integer
                                        description: >-
                                          GenerateAnswerRequest的GroundingPassage.content中的部分的索引
                                    x-apifox-orders:
                                      - passageId
                                      - partIndex
                                  semanticRetrieverChunk:
                                    type: object
                                    description: 通过Semantic Retriever提取的Chunk的标识符
                                    properties:
                                      source:
                                        type: string
                                        description: >-
                                          与请求的SemanticRetrieverConfig.source匹配的来源名称
                                      chunk:
                                        type: string
                                        description: 包含归因文本的Chunk的名称
                                    x-apifox-orders:
                                      - source
                                      - chunk
                                x-apifox-orders:
                                  - groundingPassage
                                  - semanticRetrieverChunk
                              content:
                                type: object
                                description: 构成此归因的来源内容
                                x-apifox-orders: []
                                properties: {}
                            x-apifox-orders:
                              - sourceId
                              - content
                        groundingMetadata:
                          type: object
                          description: 候选对象的参考元数据
                          properties:
                            groundingChunks:
                              type: array
                              description: 从指定的接地源检索到的支持参考文献列表
                              items:
                                type: object
                                description: GroundingChunk对象
                                properties:
                                  web:
                                    type: object
                                    description: 来自网络的接地分块
                                    properties:
                                      uri:
                                        type: string
                                        description: 分块的URI引用
                                      title:
                                        type: string
                                        description: 数据块的标题
                                    x-apifox-orders:
                                      - uri
                                      - title
                                x-apifox-orders:
                                  - web
                            groundingSupports:
                              type: array
                              description: 接地支持列表
                              items:
                                type: object
                                description: GroundingSupport对象
                                properties:
                                  groundingChunkIndices:
                                    type: array
                                    description: 索引列表，用于指定与版权主张相关的引文
                                    items:
                                      type: integer
                                  confidenceScores:
                                    type: array
                                    description: 支持参考文档的置信度分数，范围为0到1
                                    items:
                                      type: number
                                  segment:
                                    type: object
                                    description: 此支持请求所属的内容片段
                                    properties:
                                      partIndex:
                                        type: integer
                                        description: Part对象在其父级Content对象中的索引
                                      startIndex:
                                        type: integer
                                        description: 给定part中的起始索引，以字节为单位
                                      endIndex:
                                        type: integer
                                        description: 给定分块中的结束索引，以字节为单位
                                      text:
                                        type: string
                                        description: 与响应中的片段对应的文本
                                    x-apifox-orders:
                                      - partIndex
                                      - startIndex
                                      - endIndex
                                      - text
                                x-apifox-orders:
                                  - groundingChunkIndices
                                  - confidenceScores
                                  - segment
                            webSearchQueries:
                              type: array
                              description: 用于后续网页搜索的网页搜索查询
                              items:
                                type: string
                            searchEntryPoint:
                              type: object
                              description: 后续网页搜索的Google搜索条目
                              properties:
                                renderedContent:
                                  type: string
                                  description: 可嵌入网页或应用WebView中的Web内容代码段
                                sdkBlob:
                                  type: string
                                  description: 使用base64编码的JSON，表示搜索词和搜索URL元组的数组
                              x-apifox-orders:
                                - renderedContent
                                - sdkBlob
                            retrievalMetadata:
                              type: object
                              description: 与基准流程中检索相关的元数据
                              properties:
                                googleSearchDynamicRetrievalScore:
                                  type: number
                                  description: Google搜索中的信息有助于回答问题的概率得分，范围[0,1]
                              x-apifox-orders:
                                - googleSearchDynamicRetrievalScore
                          x-apifox-orders:
                            - groundingChunks
                            - groundingSupports
                            - webSearchQueries
                            - searchEntryPoint
                            - retrievalMetadata
                        avgLogprobs:
                          type: number
                          description: 候选项的平均对数概率得分
                        logprobsResult:
                          type: object
                          description: 回答令牌和前置令牌的对数似然度得分
                          properties:
                            topCandidates:
                              type: array
                              description: 长度等于解码步骤总数
                              items:
                                type: object
                                description: TopCandidates对象
                                properties:
                                  candidates:
                                    type: array
                                    description: 按对数概率降序排序的候选项
                                    items:
                                      type: object
                                      description: Candidate (Logprobs)对象
                                      properties:
                                        token:
                                          type: string
                                          description: 候选项的令牌字符串值
                                        tokenId:
                                          type: integer
                                          description: 候选项的令牌ID值
                                        logProbability:
                                          type: number
                                          description: 候选项的对数概率
                                      x-apifox-orders:
                                        - token
                                        - tokenId
                                        - logProbability
                                x-apifox-orders:
                                  - candidates
                            chosenCandidates:
                              type: array
                              description: 长度等于解码步骤总数，所选候选项不一定在topCandidates中
                              items:
                                type: object
                                properties:
                                  token:
                                    type: string
                                    description: 候选项的令牌字符串值
                                  tokenId:
                                    type: integer
                                    description: 候选项的令牌ID值
                                  logProbability:
                                    type: number
                                    description: 候选项的对数概率
                                x-apifox-orders:
                                  - token
                                  - tokenId
                                  - logProbability
                          x-apifox-orders:
                            - topCandidates
                            - chosenCandidates
                        urlRetrievalMetadata:
                          type: object
                          description: 与网址情境检索工具相关的元数据
                          properties:
                            urlRetrievalContexts:
                              type: array
                              description: 网址检索情境列表
                              items:
                                type: object
                                description: UrlRetrievalContext对象
                                properties:
                                  retrievedUrl:
                                    type: string
                                    description: 工具检索到的网址
                                x-apifox-orders:
                                  - retrievedUrl
                          x-apifox-orders:
                            - urlRetrievalContexts
                        urlContextMetadata:
                          type: object
                          description: 与网址情境检索工具相关的元数据
                          properties:
                            urlMetadata:
                              type: array
                              description: 网址上下文列表
                              items:
                                type: object
                                description: UrlMetadata对象
                                properties:
                                  retrievedUrl:
                                    type: string
                                    description: 工具检索到的网址
                                  urlRetrievalStatus:
                                    type: string
                                    enum:
                                      - URL_RETRIEVAL_STATUS_UNSPECIFIED
                                      - URL_RETRIEVAL_STATUS_SUCCESS
                                      - URL_RETRIEVAL_STATUS_ERROR
                                    description: 网址检索的状态
                                x-apifox-orders:
                                  - retrievedUrl
                                  - urlRetrievalStatus
                          x-apifox-orders:
                            - urlMetadata
                        index:
                          type: integer
                          description: 响应候选列表中候选项的索引
                      x-apifox-orders:
                        - content
                        - finishReason
                        - safetyRatings
                        - citationMetadata
                        - tokenCount
                        - groundingAttributions
                        - groundingMetadata
                        - avgLogprobs
                        - logprobsResult
                        - urlRetrievalMetadata
                        - urlContextMetadata
                        - index
                  promptFeedback:
                    type: object
                    description: 与内容过滤器相关的提示反馈
                    properties:
                      blockReason:
                        type: string
                        enum:
                          - BLOCK_REASON_UNSPECIFIED
                          - SAFETY
                          - OTHER
                          - BLOCKLIST
                          - PROHIBITED_CONTENT
                          - IMAGE_SAFETY
                        description: 屏蔽该提示的原因
                      safetyRatings:
                        type: array
                        description: 问题安全性的评分
                        items:
                          type: object
                          properties:
                            category:
                              type: string
                              enum:
                                - HARM_CATEGORY_UNSPECIFIED
                                - HARM_CATEGORY_DEROGATORY
                                - HARM_CATEGORY_TOXICITY
                                - HARM_CATEGORY_VIOLENCE
                                - HARM_CATEGORY_SEXUAL
                                - HARM_CATEGORY_MEDICAL
                                - HARM_CATEGORY_DANGEROUS
                                - HARM_CATEGORY_HARASSMENT
                                - HARM_CATEGORY_HATE_SPEECH
                                - HARM_CATEGORY_SEXUALLY_EXPLICIT
                                - HARM_CATEGORY_DANGEROUS_CONTENT
                                - HARM_CATEGORY_CIVIC_INTEGRITY
                              description: 安全类别
                            probability:
                              type: string
                              enum:
                                - HARM_PROBABILITY_UNSPECIFIED
                                - NEGLIGIBLE
                                - LOW
                                - MEDIUM
                                - HIGH
                              description: 内容有害的概率
                            blocked:
                              type: boolean
                              description: 此内容是否因此分级而被屏蔽
                          x-apifox-orders:
                            - category
                            - probability
                            - blocked
                    x-apifox-orders:
                      - blockReason
                      - safetyRatings
                  usageMetadata:
                    type: object
                    description: 有关生成请求令牌用量的元数据
                    properties:
                      promptTokenCount:
                        type: integer
                        description: 提示中的词元数
                      cachedContentTokenCount:
                        type: integer
                        description: 提示的缓存部分中的词元数
                      candidatesTokenCount:
                        type: integer
                        description: 所有生成的候选回答中的词元总数
                      totalTokenCount:
                        type: integer
                        description: 生成请求的总令牌数
                      toolUsePromptTokenCount:
                        type: integer
                        description: 工具使用提示中的词元数量
                      thoughtsTokenCount:
                        type: integer
                        description: 思考模型的想法token数
                      promptTokensDetails:
                        type: array
                        description: 在请求输入中处理的模态列表
                        items:
                          type: object
                          description: ModalityTokenCount对象
                          properties:
                            modality:
                              type: string
                              enum:
                                - MODALITY_UNSPECIFIED
                                - TEXT
                                - IMAGE
                                - VIDEO
                                - AUDIO
                                - DOCUMENT
                              description: 与此令牌数关联的模态
                            tokenCount:
                              type: integer
                              description: 令牌数量
                          x-apifox-orders:
                            - modality
                            - tokenCount
                      candidatesTokensDetails:
                        type: array
                        description: 响应中返回的模态列表
                        items:
                          type: object
                          properties:
                            modality:
                              type: string
                              enum:
                                - MODALITY_UNSPECIFIED
                                - TEXT
                                - IMAGE
                                - VIDEO
                                - AUDIO
                                - DOCUMENT
                              description: 与此令牌数关联的模态
                            tokenCount:
                              type: integer
                              description: 令牌数量
                          x-apifox-orders:
                            - modality
                            - tokenCount
                      cacheTokensDetails:
                        type: array
                        description: 请求输入中缓存内容的模态列表
                        items:
                          type: object
                          properties:
                            modality:
                              type: string
                              enum:
                                - MODALITY_UNSPECIFIED
                                - TEXT
                                - IMAGE
                                - VIDEO
                                - AUDIO
                                - DOCUMENT
                              description: 与此令牌数关联的模态
                            tokenCount:
                              type: integer
                              description: 令牌数量
                          x-apifox-orders:
                            - modality
                            - tokenCount
                      toolUsePromptTokensDetails:
                        type: array
                        description: 为工具使用请求输入处理的模态列表
                        items:
                          type: object
                          properties:
                            modality:
                              type: string
                              enum:
                                - MODALITY_UNSPECIFIED
                                - TEXT
                                - IMAGE
                                - VIDEO
                                - AUDIO
                                - DOCUMENT
                              description: 与此令牌数关联的模态
                            tokenCount:
                              type: integer
                              description: 令牌数量
                          x-apifox-orders:
                            - modality
                            - tokenCount
                    x-apifox-orders:
                      - promptTokenCount
                      - cachedContentTokenCount
                      - candidatesTokenCount
                      - totalTokenCount
                      - toolUsePromptTokenCount
                      - thoughtsTokenCount
                      - promptTokensDetails
                      - candidatesTokensDetails
                      - cacheTokensDetails
                      - toolUsePromptTokensDetails
                  modelVersion:
                    type: string
                    description: 用于生成回答的模型版本
                  responseId:
                    type: string
                    description: 用于标识每个响应的ID
                x-apifox-orders:
                  - candidates
                  - promptFeedback
                  - usageMetadata
                  - modelVersion
                  - responseId
              examples:
                '1':
                  summary: 基础文本对话
                  value:
                    candidates:
                      - content:
                          role: model
                          parts:
                            - text: >
                                哄女朋友开心，关键在于了解她的喜好和需求，并真诚地表达你的关心和爱意。以下是一些通用的方法，你可以根据你的具体情况进行调整：


                                **一、 倾听和陪伴：**


                                *   **认真倾听她的心声：**
                                当她想倾诉时，放下手头的事情，专注地听她说话，眼神交流，适时回应，让她感受到你的重视。

                                *   **高质量的陪伴：**
                                即使只是安静地一起待着，也是一种陪伴。一起看电影、散步、做饭、聊天，重要的不是做什么，而是你在她身边。

                                *   **主动关心她的感受：** 留意她情绪的变化，主动询问她发生了什么，是否需要帮助。


                                **二、 制造惊喜和浪漫：**


                                *   **小礼物：**
                                不需要贵重的礼物，可以是她喜欢的小零食、可爱的玩偶、鲜花、一本好书，或者是一些充满回忆的小物件。

                                *   **制造小惊喜：** 在她意想不到的时候送她一个小礼物，或者带她去一个她一直想去的地方。

                                *   **制造浪漫：**
                                一起看日出日落，在特殊的日子精心准备晚餐，给她写一封情书，或者只是在睡前给她一个甜蜜的吻。

                                *   **记住重要的日子：**
                                记住她的生日、纪念日等重要日子，并提前准备好礼物和活动，让她感受到你的用心。


                                **三、 言语表达爱意：**


                                *   **赞美她：** 真诚地赞美她的优点，无论是外貌、才华还是性格。

                                *   **表达你的爱意：** 经常对她说“我爱你”、“我想你”，或者其他让她感到温暖的话语。

                                *   **感谢她的付出：** 感谢她为你做的一切，让她知道你珍惜她的付出。

                                *   **道歉：** 如果你做错了事情，要及时真诚地道歉，并承诺以后会改正。


                                **四、 做她喜欢的事情：**


                                *   **了解她的兴趣爱好：**
                                了解她喜欢做什么，并主动参与其中，即使你并不感兴趣，也要表现出积极的态度。

                                *   **支持她的梦想：** 鼓励她追求自己的梦想，并尽你所能地支持她。

                                *   **尊重她的选择：** 尊重她的选择，不要强迫她做她不喜欢的事情。


                                **五、 生活中的细节：**


                                *   **帮她做家务：** 分担家务，让她有更多的时间去做自己喜欢的事情。

                                *   **照顾她的身体：** 天冷了提醒她多穿衣服，生病了照顾她，关心她的饮食起居。

                                *   **记住她的喜好：** 记住她喜欢吃什么、喝什么、用什么，在日常生活中给她一些小惊喜。

                                *   **保护她：** 在公共场合保护她，让她感受到你的安全感。


                                **六、 其他建议：**


                                *   **幽默感：** 适时的幽默可以缓解气氛，让她感到轻松愉快。

                                *   **共同解决问题：** 当她遇到困难时，和她一起面对，共同寻找解决方案。

                                *   **给她空间：** 不要过度干涉她的生活，给她一些自由的空间，让她有自己的时间和社交圈。

                                *   **了解她的爱情语言：**
                                了解她的爱情语言（例如：肯定的言语、服务的行动、收到礼物、高质量的相处时间、肢体接触），并用她喜欢的方式来表达你的爱意。

                                *   **真诚和用心最重要：**
                                最重要的还是你的真诚和用心，让她感受到你对她的爱是发自内心的。


                                **最重要的是，你要用心去了解你的女朋友，找到最适合她的方式来哄她开心。** 
                                不要照搬别人的经验，而是要根据你们之间的相处模式和她的个性特点来制定专属的哄开心方案。
                                祝你成功！
                        finishReason: STOP
                        index: 0
                        safetyRatings: null
                    promptFeedback:
                      safetyRatings: null
                    usageMetadata:
                      promptTokenCount: 5
                      candidatesTokenCount: 838
                      totalTokenCount: 843
                      thoughtsTokenCount: 0
                      promptTokensDetails:
                        - modality: TEXT
                          tokenCount: 5
                '2':
                  summary: 图像分析
                  value:
                    candidates:
                      - content:
                          role: model
                          parts:
                            - text: 图中是许多钢管。它们似乎是用于工业用途的。
                        finishReason: STOP
                        index: 0
                        safetyRatings: null
                    promptFeedback:
                      safetyRatings: null
                    usageMetadata:
                      promptTokenCount: 1810
                      candidatesTokenCount: 15
                      totalTokenCount: 1825
                      thoughtsTokenCount: 0
                      promptTokensDetails:
                        - modality: IMAGE
                          tokenCount: 1806
                        - modality: TEXT
                          tokenCount: 4
                '3':
                  summary: 函数调用
                  value:
                    contents:
                      - role: user
                        parts:
                          - text: >-
                              Create a bar chart titled ''Quarterly Sales'' with
                              data: Q1: 50000, Q2: 75000, Q3: 60000.
                    tools:
                      - functionDeclarations:
                          - name: create_bar_chart
                            description: >-
                              Creates a bar chart given a title, labels, and
                              corresponding values.
                            parameters:
                              type: object
                              properties:
                                title:
                                  type: string
                                  description: The title for the chart.
                                labels:
                                  type: array
                                  items:
                                    type: string
                                  description: >-
                                    List of labels for the data points (e.g.,
                                    [''Q1'', ''Q2'', ''Q3'']).
                                values:
                                  type: array
                                  items:
                                    type: number
                                  description: >-
                                    List of numerical values corresponding to
                                    the labels (e.g., [50000, 75000, 60000]).
                              required:
                                - title
                                - labels
                                - values
                '4':
                  summary: 结构化输出
                  value:
                    candidates:
                      - content:
                          role: model
                          parts:
                            - text: |-
                                [
                                  {
                                    "recipeName": "Chocolate Chip Cookies",
                                    "ingredients": [
                                      "1 cup (2 sticks) unsalted butter, softened",
                                      "3/4 cup granulated sugar",
                                      "3/4 cup packed brown sugar",
                                      "1 teaspoon vanilla extract",
                                      "2 large eggs",
                                      "2 1/4 cups all-purpose flour",
                                      "1 teaspoon baking soda",
                                      "1 teaspoon salt",
                                      "2 cups chocolate chips"
                                    ]
                                  },
                                  {
                                    "recipeName": "Peanut Butter Cookies",
                                    "ingredients": [
                                      "1 cup (2 sticks) unsalted butter, softened",
                                      "1 cup peanut butter",
                                      "1 cup granulated sugar",
                                      "1 cup packed brown sugar",
                                      "2 large eggs",
                                      "1 teaspoon vanilla extract",
                                      "2 1/2 cups all-purpose flour",
                                      "1 teaspoon baking soda",
                                      "1/2 teaspoon salt"
                                    ]
                                  },
                                  {
                                    "recipeName": "Sugar Cookies",
                                    "ingredients": [
                                      "1 1/2 cups (3 sticks) unsalted butter, softened",
                                      "2 cups granulated sugar",
                                      "4 large eggs",
                                      "1 teaspoon vanilla extract",
                                      "5 cups all-purpose flour",
                                      "2 teaspoons baking powder",
                                      "1 teaspoon salt"
                                    ]
                                  }
                                ]
                        finishReason: STOP
                        index: 0
                        safetyRatings: null
                    promptFeedback:
                      safetyRatings: null
                    usageMetadata:
                      promptTokenCount: 25
                      candidatesTokenCount: 318
                      totalTokenCount: 343
                      thoughtsTokenCount: 0
                      promptTokensDetails:
                        - modality: TEXT
                          tokenCount: 25
                '5':
                  summary: 视频处理
                  value:
                    candidates:
                      - content:
                          role: model
                          parts:
                            - text: 从 0:00 开始的视频显示了两只小象在泥里玩耍。其中一只爬到另一只身上，然后它们并排站立。
                        finishReason: STOP
                        index: 0
                        safetyRatings: null
                    promptFeedback:
                      safetyRatings: null
                    usageMetadata:
                      promptTokenCount: 11430
                      candidatesTokenCount: 35
                      totalTokenCount: 11465
                      thoughtsTokenCount: 0
                      promptTokensDetails:
                        - modality: TEXT
                          tokenCount: 3
                        - modality: VIDEO
                          tokenCount: 10257
                        - modality: AUDIO
                          tokenCount: 1170
                '6':
                  summary: PDF处理
                  value:
                    candidates:
                      - content:
                          role: model
                          parts:
                            - text: >
                                好的，这是对您提供的文档内容的中文介绍：


                                **图2**:
                                这组图表展示了在常见使用场景和对抗性场景（“诚实性”和“无害性”）中，每个任务的人类偏好胜率。由于Claude
                                3.5 Sonnet是基线模型，因此其胜率始终为50%（它与自身对抗时的胜率为50%）。


                                **3.1.2 Prompt Injection (提示注入)**


                                我们增强了升级后的Claude 3.5 Sonnet和Claude 3.5
                                Haiku识别和抵御提示注入攻击的能力。提示注入是一种攻击，其中恶意用户向模型提供指令，试图改变其最初预期的行为。现在，这两种模型都能够更好地识别来自用户的对抗性提示，并按照系统提示保持行为一致。我们构建了内部测试集，用于提示注入攻击，并专门针对对抗性互动进行了训练。


                                对于计算机的使用，我们建议采取额外的预防措施，以防止提示注入的风险，例如使用专用虚拟机，限制对敏感数据的访问，限制对所需域的互联网访问，并在敏感任务中保持人在环路中。


                                **3.1.3 Computer Use Red-Teaming (计算机使用红队)**


                                我们针对计算机使用进行了专门的信任与安全红队演练，以识别潜在的滥用向量。我们识别出与计算机使用能力相关的几个潜在风险，但没有发现任何风险被认为是严重的。


                                希望这个介绍对您有所帮助！
                        finishReason: STOP
                        index: 0
                        safetyRatings: null
                    promptFeedback:
                      safetyRatings: null
                    usageMetadata:
                      promptTokenCount: 1294
                      candidatesTokenCount: 322
                      totalTokenCount: 1616
                      thoughtsTokenCount: 0
                      promptTokensDetails:
                        - modality: DOCUMENT
                          tokenCount: 1290
                        - modality: TEXT
                          tokenCount: 4
                '7':
                  summary: 代码执行
                  value:
                    candidates:
                      - content:
                          role: model
                          parts:
                            - text: |+
                                好的，我来计算斐波那契数列的第10项。斐波那契数列的定义是：
                                *   F(0) = 0
                                *   F(1) = 1
                                *   F(n) = F(n-1) + F(n-2)  (对于 n > 1)

                                我将使用Python计算斐波那契数列的第10项。

                            - executableCode:
                                language: PYTHON
                                code: |
                                  def fibonacci(n):
                                    if n <= 0:
                                      return 0
                                    elif n == 1:
                                      return 1
                                    else:
                                      a, b = 0, 1
                                      for _ in range(2, n + 1):
                                        a, b = b, a + b
                                      return b

                                  result = fibonacci(10)
                                  print(result)
                            - codeExecutionResult:
                                outcome: OUTCOME_OK
                                output: |
                                  55
                            - text: |
                                斐波那契数列的第10项是55。
                        finishReason: STOP
                        index: 0
                        safetyRatings: null
                    promptFeedback:
                      safetyRatings: null
                    usageMetadata:
                      promptTokenCount: 12
                      candidatesTokenCount: 202
                      totalTokenCount: 412
                      thoughtsTokenCount: 0
                      promptTokensDetails:
                        - modality: TEXT
                          tokenCount: 12
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: Gemini接口
      x-apifox-status: released
      x-run-in-apifox: https://app.apifox.com/web/project/7380791/apis/api-374035816-run
components:
  schemas: {}
  securitySchemes: {}
servers: []
security: []

```
